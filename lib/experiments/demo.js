// Generated by CoffeeScript 2.4.1
(function() {
  //--------------------------------------------------------
  // Create a TimeTunnel instance:
  var TIMETUNNEL, log, modify, original_text, rpr, tnl, transform;

  log = console.log;

  rpr = (require('util')).inspect;

  TIMETUNNEL = require('../..');

  // TIMETUNNEL      = require 'timetunnel'
  // tnl.add_tunnel TIMETUNNEL.tunnels.remove_backslash
  // tnl.add_tunnel TIMETUNNEL.tunnels.htmlish

  //--------------------------------------------------------
  modify = function(text) {
    return text.replace(/[0-9]+/g, function($0) {
      return '' + (parseInt($0, 10)) * 12;
    });
  };

  //--------------------------------------------------------
  original_text = "abcde A plain number 123, two bracketed ones: {123}, {124}";

  //--------------------------------------------------------
  // Hide 'offending' original_text,
  // process it,
  // finally recover tunneled parts:
  transform = function(tnl, original_text) {
    var modified_text, tunneled_text, uncovered_text;
    tunneled_text = tnl.hide(original_text);
    modified_text = modify(tunneled_text);
    uncovered_text = tnl.reveal(modified_text);
    log('(1)', rpr(original_text));
    log('(2)', rpr(tunneled_text));
    log('(3)', rpr(modified_text));
    log('(4)', rpr(uncovered_text));
    return uncovered_text;
  };

  tnl = new TIMETUNNEL.Timetunnel('abcde');

  tnl.add_tunnel(/\{([0-9]+)\}/gu);

  transform(tnl, original_text);

  log('...');

  tnl = new TIMETUNNEL.Timetunnel('abcde');

  tnl.add_tunnel(/(\{[0-9]+\})/gu);

  transform(tnl, original_text);

  log('...');

  tnl = new TIMETUNNEL.Timetunnel();

  tnl.add_tunnel(/(\{[0-9]+\})/gu);

  transform(tnl, original_text);

}).call(this);

//# sourceMappingURL=demo.js.map
